<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="app"></div>
<script type="text/javascript">
    // emoji test
    // emoji æ˜¯4å­—èŠ‚çš„ utf16å­—ç¬¦ï¼Œå¤„ç†èµ·æ¥æ¯”è¾ƒéº»çƒ¦
    // emoji æˆªå–çš„é—®é¢˜ï¼Œjs ä¸­å¯ä»¥ç”¨ es6 æ–°å¢çš„utf16å¤„ç†èƒ½åŠ›æ¥å®ç°ï¼›
    // å¯ä»¥é€šè¿‡Stringæ–°å¢çš„éå†å™¨ç‰¹æ€§ï¼Œä½¿ç”¨for ofæ¥éå†å­—ç¬¦ä¸²
    // ä¹Ÿå¯ä»¥é€šè¿‡Array.fromæ–¹æ³•å°†å­—ç¬¦ä¸²å®‰å…¨çš„è½¬æ¢æˆæ•°ç»„æ¥éå†

    const str = "ğŸ™„ğŸ˜‰ğŸ‘ŒğŸ˜ğŸ˜ğŸ˜„â˜¹ï¸æ»´æ»´ğŸ˜ƒğŸ˜„ğŸ˜¤ğŸ¤”ğŸ‘‰ğŸ»ğŸ‘¨ğŸ¼â€ğŸ’¼ğŸ¤¶ğŸ¾ğŸ™ŠğŸšğŸ asdğŸ‹ğŸ¬ğŸˆğŸ¦ğŸ–ğŸ“233ğŸŒ»ğŸŒğŸŒ·";
    let strArr = Array.from(str);
    for(var i = 0; i<str.length; i++){
        console.log(str.charAt(i));
    }
    const $app = document.getElementById("app");
    const emojiReg = /\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]/g;

    const writeLine = line => {
        $app.innerHTML += `<p>${line}</p>`;
    };
    let lineContent = [];

    writeLine("----for----ï¼Œä¸€å¼€å§‹æˆ‘çš„è§£å†³æ€è·¯");
    for (let i = 0, l = str.length; i < l; i++) {
        let char = str.substr(i, 1);
        if (emojiReg.test(char + str.substr(i + 1, 1))) {
            char += str.substr(i++ + 1, 1);
        }
        lineContent.push(char);
    }
    writeLine(lineContent.join(" "));

    writeLine("----str split----");
    writeLine(str.split(""));

    writeLine("----for of----");

    lineContent = [];
    for (let item of str) {
        lineContent.push(item);
    }
    writeLine(lineContent.join(" "));

    writeLine("----Array from----");
    writeLine(Array.from(str).join(" "));

</script>
</body>
</html>