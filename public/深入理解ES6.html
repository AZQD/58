<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html;">
    <meta name="viewport"
          content="initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width"/>
    <meta name="format-detection" content="telephone=no"/>
    <meta name="format-detection" content="email=no"/>
    <meta name="format-detection" content="address=no;">
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
    <title>深入理解ES6</title>
</head>
<body>
<script type="text/javascript">


    // 2018年3月28日
    /*function test(a=1) {
        console.log(a);
    }
    test(0)
    test(null)
    test(undefined)
    test(false)
    test('')
    //要么不传，要么传undefined*/

    /*function demo(a=1,b=2,c=3) {
        console.log(this);
        console.log(arguments);
    }
    new demo (7, 3)*/

    /*console.log({
      fn:function () {},
      afn:()=>{},
      gfn:function *f(){}
    });*/

    /**总结
     *  *f是什么 generate函数
     *
     */
    // [[FunctionLocation]]
    // [[constructor]]
    // [[call]]
    // [[Scope]]
    // [[prototype]]


    // 箭头函数afn有call,scope，没有super,argument


    // 动态相关： this/arguments/super/new target


    /*function fn(a,b) {

    }*/


    /*function fn1() {
      this.test = 'fn1'
      console.log(this);
      function fn2() {
        this.test = 'fn2'
        console.log(this);
        let fn3 =()=>{
          this.test = 'fn3'
          console.log(this);
        }
        fn3()
      }
      fn2()
    }
    fn1()
    console.log(test);*/


    /*let fn =(a)=>{
      console.log(1);
      console.log(this);
      console.log(arguments);
    }
    fn(1)*/
    /*function fn(a) {
      console.log(1);
      console.log(this);
      console.log(arguments);
    }
    fn(1)*/

    // call调用

    /*function fn1() {
      console.log(arguments);
      arguments[0].nickname = 'fn1'
      let fn2 = function () {
        console.log(arguments);
        arguments[0].nickname = 'fn2'
      }
      fn2()
    }
    let obj = {}
    fn1(obj)*/

    /*JS字面量
    Number, String , Object, Array, Regex
    *
    *
    * */
    /*let obj = {
      1:2
    }
    let arr = [1,2]
    obj[arr] = 1111
    obj['7'+'8'] = 78
    console.log(obj);*/
    // console.log(obj.1);


    /*console.log(Object.getPrototypeOf({}));//Object.prototype
    console.log(Object.getPrototypeOf(Object));//Function.prototype
    console.log();
    Object.setPrototypeOf = function (obj) {
      return obj.__proto__
    }

      Object.getPrototypeOf = function (obj, value) {
        obj.__proto__ = value
      }*/

    /*Object.prototype.fun = function(){
      return 'test'
    }

    let a = 1
    let b = {}
    let c = []
  console.log(a.fun());
  console.log(b.fun());
  console.log(c.fun());*/


    /*function fun() {
      console.log(arguments);
      console.log(arguments.__proto__);//Object.prototype
      console.log(arguments.__proto__ === Object.prototype);//true
    }
    fun()*/



    // extend ,assign
    /**extend浅拷贝
     * @param destination
     * @param source
     * @returns {*}
     * 参考：https://www.jianshu.com/p/04b1d88dabf2
     */
    /*var extend = function (destination, source) {
      for(var key in source){
        destination[key] = source[key]
      }
      return destination
    }
    let newObj = extend({a:1, d:4}, {a:2, b:2, c:3})
    console.log(newObj);

    /!**
     * Object.assign
     * 参考：https://blog.csdn.net/DeepLies/article/details/52915143
     * @type {{a: number}}
     *!/
    var obj1 = {a:1}
    var obj2 = {a:2, b:2}
    var obj3 = {a:3, b:4, c:5}
    Object.assign(obj1,obj2,obj3)
    console.log(obj1);*/


    /**
     * 总结：
     * 作用域：全局，函数，块级，闭包；
     * 全局
     *
     * 块级作用域：let,const
     */

    /*var d = 4
    function fun1() {
      var a = 1
      function fun2(b) {
        var c = 3
        {
          let t = 10
          console.log(a,b,c,d);
        }
      }
      fun2()
    }
    fun1()*/


    /**
     * TDZ, let/coast/
     */

    //繁引号
    //块级作用域

  //${表达式}

    /**
     *
     */
    // fn函数和箭头函数区别：
  // 箭头函数无this,无argument,无constructor


  // 函数类别：fn, 箭头函数， function *(){} async function

    /*等价
  obj.__proto__
  obj.getPrototypeOf*/

    // console.log(Number.prototype);
    // console.log(typeof 123);
    // console.log(typeof Array);
    // console.log(typeof Function);

  // this argument , construtor, scope

  //调试必须会
  
  function extend(newObj, oldObj) {
    for(let item in oldObj){
      newObj[item] = oldObj[item]
    }
    return newObj
  }
  var result = extend({},{a:2})
  console.log(result);
  // console.log(Global);


</script>
</body>
</html>